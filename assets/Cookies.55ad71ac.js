function d(e){return encodeURIComponent(e)}function s(e){return decodeURIComponent(e)}function p(e){return d(e===Object(e)?JSON.stringify(e):""+e)}function x(e){if(e==="")return e;e.indexOf('"')===0&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),e=s(e.replace(/\+/g," "));try{const i=JSON.parse(e);(i===Object(i)||Array.isArray(i)===!0)&&(e=i)}catch{}return e}function h(e){const i=new Date;return i.setMilliseconds(i.getMilliseconds()+e),i.toUTCString()}function S(e){let i=0;const t=e.match(/(\d+)d/),o=e.match(/(\d+)h/),n=e.match(/(\d+)m/),c=e.match(/(\d+)s/);return t&&(i+=t[1]*864e5),o&&(i+=o[1]*36e5),n&&(i+=n[1]*6e4),c&&(i+=c[1]*1e3),i===0?e:h(i)}function m(e,i,t={},o){let n,c;t.expires!==void 0&&(Object.prototype.toString.call(t.expires)==="[object Date]"?n=t.expires.toUTCString():typeof t.expires=="string"?n=S(t.expires):(c=parseFloat(t.expires),n=isNaN(c)===!1?h(c*864e5):t.expires));const u=`${d(e)}=${p(i)}`,a=[u,n!==void 0?"; Expires="+n:"",t.path?"; Path="+t.path:"",t.domain?"; Domain="+t.domain:"",t.sameSite?"; SameSite="+t.sameSite:"",t.httpOnly?"; HttpOnly":"",t.secure?"; Secure":"",t.other?"; "+t.other:""].join("");if(o){o.req.qCookies?o.req.qCookies.push(a):o.req.qCookies=[a],o.res.setHeader("Set-Cookie",o.req.qCookies);let r=o.req.headers.cookie||"";if(n!==void 0&&c<0){const l=f(e,o);l!==void 0&&(r=r.replace(`${e}=${l}; `,"").replace(`; ${e}=${l}`,"").replace(`${e}=${l}`,""))}else r=r?`${u}; ${r}`:a;o.req.headers.cookie=r}else document.cookie=a}function f(e,i){const t=i?i.req.headers:document,o=t.cookie?t.cookie.split("; "):[],n=o.length;let c=e?null:{},u=0,a,r,l;for(;u<n;u++)if(a=o[u].split("="),r=s(a.shift()),l=a.join("="),!e)c[r]=l;else if(e===r){c=x(l);break}return c}function k(e,i,t){m(e,"",{expires:-1,...i},t)}function g(e,i){return f(e,i)!==null}function q(e){return{get:i=>f(i,e),set:(i,t,o)=>m(i,t,o,e),has:i=>g(i,e),remove:(i,t)=>k(i,t,e),getAll:()=>f(null,e)}}const C={install({$q:e,ssrContext:i}){e.cookies=this}};Object.assign(C,q());export{C as P};
